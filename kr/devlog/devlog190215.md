# TIL: This (Week) I Learned (코드스쿼드 22주차 회고)

## 한 주 요약

리액트를 둘러싼 생태계, 특히 GraphQL에 관련된 내용을 학습했습니다.  
생소한 개념과 라이브러리지만, 여러 번 반복해서 코드를 짜다보니 조금씩 친숙해지는 게 재밌었습니다.

## 공부한 내용들과 자료 링크

### 알고리즘과 자료구조

드디어, 프로그래머스(<http://www.programmers.co.kr/>) 2 레벨 알고리즘 문제를 모두 풀었습니다!  
큰 의미는 없지만 순위가 올라 100 위 안에 들어갔습니다. 조금 뿌듯하네요.

### React

리액트 학습을 위해 간단한 할일 앱에 기능을 추가하고 있습니다.

- 데모 페이지: http://vanary.com/javascript-web-todo/

이번 주에는 두 가지에 집중했습니다. 앱에 기본적인 상호작용을 추가하고, 더 나은 상태관리를 위해 GraphQL을 학습했습니다.

**기능 추가 & 리팩토링**

할일 앱에 기본적인 상호작용(할일 추가/삭제, 목록접기)을 추가했습니다.  
관리해야 할 상태가 다양해져서 각 컴포넌트를 리팩토링하고 앱 최상단에 있던 상태를 알맞은 컴포넌트로 내려보내는 작업을 진행했습니다.

리액트로 작업하다 보니, 컴포넌트를 더 팍팍 쪼개고 싶은 마음과 코드 응집도를 떨어뜨리기 싫은 마음이 줄다리기를 하네요 ㅋㅋ  
아직은 UI를 구성하는 단위가 컴포넌트라기보단 모듈에 가까운 것 같습니다.

**가지치기 - 쉘에서 특정 문자열이 있는 파일만 찾기**

비동기로 작동하는 setState 메서드가 안전하게 상태를 변경할 수 있게,  
기약없이 상태 객체를 그냥 인자로 주기보다 updator 콜백 함수를 전달하는 리팩토링을 진행했습니다.

이번 리팩토링에서 상태가 필요 없는 컴포넌트는 함수로 바꾸었기 때문에, 몇 개 안되지만 일일히 열어보기엔 많은 컴포넌트들 사이에서 this.setState를 사용하는 녀석들을 찾아서 수정하는 과정이 있었습니다.

좋은 프로그래머의 덕목이 귀찮음이랬다고, 특정 문자열이 들어간 파일을 찾는 방법을 찾아냈습니다.

> \> grep -rnwl '검색대상경로' -e '검색어'

검색어(문자열 패턴)를 가진 파일을 찾아주는 grep 명령어로, 검색대상경로와 그 밑의 하위 폴더를 탐색해 검색어가 포함된 파일의 목록을 간략하게 띄워주는 쉘 스크립트입니다. 이 파일을 이용해 고쳐야 할 파일 세 개를 빠르게 수정할 수 있었습니다.

**리액트 베스트 프랙티스 찾아보기**

- 커링과 함수형 패러다임을 이용한 고차 컴포넌트
  - https://www.robinwieruch.de/gentle-introduction-higher-order-components/
- 리액트 아키텍처 실무에 사용한 고민
  - https://www.sitepoint.com/react-architecture-best-practices/
  - Node의 main 속성을 이용한 디렉토리 단위 모듈 import가 마음에 들어서 바로 적용했습니다.
  - 윗 글을 읽고 고차 컴포넌트를 써야 하는가 고민이 됐는데, 이 글에서 본 render prop을 통한 컴포넌트 합성이 좋은 대안이 될 것 같았습니다.

**GraphQL 관심**

API와 자료를 주고받는 게 간결해지고, 앱 안의 상태관리도 도와주는 데 그 두 가지를 한 채널에서 할 수 있다니.  
GraphQL의 영험함에 감탄하면서 제 할일 앱에 탑재하기 위해 관련 정보를 살펴보고 있습니다.

- 공식 문서로 개념을 알아보고: https://www.graphql.org/learn/
- 국내외 GraphQL 도입사례 기술 블로그를 살펴봤습니다.
  - Naver: https://d2.naver.com/helloworld/2838729
  - Kakao: https://brunch.co.kr/@kakao-it/305
  - AirBnB: https://medium.com/airbnb-engineering/how-airbnb-is-moving-10x-faster-at-scale-with-graphql-and-apollo-aa4ec92d69e2
- GraphQL을 프론트/백 엔드에 적용할 때 유용한 Apollo 플랫폼을 뒤이어 살펴봤습니다.
  - https://www.apollographql.com/docs/intro/benefits.html
  - 이 라이브러리가 유용한 기능을 많이 제공해줘서 제 앱에도 쓰게 될 것 같습니다.
  - 다만 문서의 설명이 부족해서 아쉬웠습니다. 초반 schema 만들고 API를 업로드하는 부분까지는 좋았는데, 후반에 react 클라이언트와 연결하는 부분부터 튜토리얼의 코드 흐름이 툭툭 끊기고 오류가 있어서 아쉬웠습니다.

**가지치기2 - 코드 배포 서비스 Zeit Now**

Apollo 튜토리얼을 따라가다 API를 배포하면서 소개된 서비스 [Zeit Now](https://zeit.co/now)입니다.

지난번 아마존 클론 프로젝트에서는 Heroku를 사용했었는 데, 마찬가지로 개인 개발자가 무료로 쓰기에 충분하고 immutable한 배포 판올림을 지원한다고 해서 한번 둘러봤습니다.

아쉽게도 이번에는 Zeit을 이용해 API 배포하지 못했습니다.  
코드 배포에 제게는 생소한 Serverless와 Lambda 개념을 적극 사용하고 있어서, 가볍게 API를 구현하는 목적상 배포 도구를 학습할 시간이 없어 다음을 기약하기로 하고 이렇게 기록을 남겨둡니다.

### 기타 - 동료와 스터디

구현 경험은 꾸준히 쌓고 있으니, 이제 개발자 동료와 함께 작업을 진행하는 경험도 더 쌓는 게 좋겠다고 판단했습니다.  
이번 주 부터 아마존 클론 코딩을 다시, 동료와 페어 프로그래밍을 하며 진행하고 있습니다.

## 느낌과 다음 주 목표

GraphQL을 더 알아보고, 한번 써보고 싶습니다.

다음 주에는 GraphQL 재단의 공식 튜토리얼을 진행하고, 병렬로 할일 앱에 추가할 API 설계를 진행할 계획입니다.
뒤이어서는 SPA 구현을 위해 React Router 학습으로 넘어가겠습니다.
